col_rel_width=c(5,3,3,3,3),
text_justification = c("l","c","c","c","c"),
#border_top = c("single","single","single","single","single),
border_top = c("","","","",""),
border_right = c("","","","",""),
border_left = c("","","","","")) %>%
rtf_colheader(colheader = paste0(" | N=",pbo_cnt," | N=",lo_cnt, "| N=", hi_cnt ,
"| N=",tot_cnt),
col_rel_width=c(5,3,3,3,3),
text_justification = c("l","c","c","c","c"),
#border_top = c("single","single","single","single","single),
border_top = c("","","","",""),
border_right = c("","","","",""),
border_left = c("","","","","")) %>%
rtf_body(as_colheader = F,
col_rel_width=c(5,3,3,3,3),
border_first = c("single","single","single","single","single"),
border_last = c("single","single","single","single","single"),
border_left = c("","","","",""),
border_right = c("","","","",""),
cell_justification = c("l", "d","d","d","d"),
text_justification = c("l", "c","c","c","c"),
text_font_size=7,
last_row = F) %>%
rtf_footnote(footnote = c("SOURCE: Listings 16.2.4.1 and 16.2.4.3",
"NOTE: The percentages are based on the Safety Analysis Set."),
border_left = "",
border_right = "",
border_bottom = "",
text_font_size=7) %>%
rtf_encode() %>%
write_rtf("C:/Training/Academy/Sample Clinical Reports/Demographic/r2.rtf")
obj_rtf <- age_df %>%
rtf_page(orientation = "landscape",nrow = 50,
border_first = "single",
border_last = "single") %>%
rtf_title(title = "Table 14.1.4",
subtitle = c("Demographic Characteristics",
"Safety Analysis Set"),
text_justification = "c",
text_font_size=8) %>%
rtf_colheader(colheader = " | Placebo | Xanomeline Low Dose | Xanomeline High Dose | Total",
col_rel_width=c(5,3,3,3,3),
text_justification = c("l","c","c","c","c"),
#border_top = c("single","single","single","single","single),
border_top = c("","","","",""),
border_right = c("","","","",""),
border_left = c("","","","","")) %>%
rtf_colheader(colheader = paste0(" | N=",pbo_cnt," | N=",lo_cnt, "| N=", hi_cnt ,
"| N=",tot_cnt),
col_rel_width=c(5,3,3,3,3),
text_justification = c("l","c","c","c","c"),
#border_top = c("single","single","single","single","single),
border_top = c("","","","",""),
border_right = c("","","","",""),
border_left = c("","","","","")) %>%
rtf_body(as_colheader = F,
col_rel_width=c(5,3,3,3,3),
border_first = c("single","single","single","single","single"),
border_last = c("single","single","single","single","single"),
border_left = c("","","","",""),
border_right = c("","","","",""),
cell_justification = c("l", "c","c","c","c"),
text_justification = c("l", "c","c","c","c"),
text_font_size=7,
last_row = F) %>%
rtf_footnote(footnote = c("SOURCE: Listings 16.2.4.1 and 16.2.4.3",
"NOTE: The percentages are based on the Safety Analysis Set."),
border_left = "",
border_right = "",
border_bottom = "",
text_font_size=7) %>%
rtf_encode() %>%
write_rtf("C:/Training/Academy/Sample Clinical Reports/Demographic/r2.rtf")
obj_rtf <- age_df %>%
rtf_page(orientation = "landscape",nrow = 50,
border_first = "single",
border_last = "single") %>%
rtf_title(title = "Table 14.1.4",
subtitle = c("Demographic Characteristics",
"Safety Analysis Set"),
text_justification = "c",
text_font_size=8) %>%
rtf_colheader(colheader = " | Placebo | Xanomeline Low Dose | Xanomeline High Dose | Total",
col_rel_width=c(5,3,3,3,3),
text_justification = c("l","c","c","c","c"),
#border_top = c("single","single","single","single","single),
border_top = c("","","","",""),
border_right = c("","","","",""),
border_left = c("","","","","")) %>%
rtf_colheader(colheader = paste0(" | N=",pbo_cnt," | N=",lo_cnt, "| N=", hi_cnt ,
"| N=",tot_cnt),
col_rel_width=c(5,3,3,3,3),
text_justification = c("l","c","c","c","c"),
#border_top = c("single","single","single","single","single),
border_top = c("","","","",""),
border_right = c("","","","",""),
border_left = c("","","","","")) %>%
rtf_body(as_colheader = F,
col_rel_width=c(5,3,3,3,3),
border_first = c("single","single","single","single","single"),
border_last = c("single","single","single","single","single"),
border_left = c("","","","",""),
border_right = c("","","","",""),
#cell_justification = c("l", "c","c","c","c"),
text_justification = c("l", "c","c","c","c"),
text_font_size=7,
last_row = F) %>%
rtf_footnote(footnote = c("SOURCE: Listings 16.2.4.1 and 16.2.4.3",
"NOTE: The percentages are based on the Safety Analysis Set."),
border_left = "",
border_right = "",
border_bottom = "",
text_font_size=7) %>%
rtf_encode() %>%
write_rtf("C:/Training/Academy/Sample Clinical Reports/Demographic/r2.rtf")
library(pharmaverseadam)
data("r2rtf_adsl")
force(r2rtf_adsl)
View(r2rtf_adsl)
library(survival)
data(package='survival')
data("cancer")
force(leukemia)
force(aml)
View(leukemia)
install.packages("survminer")
View(leukemia)
leukemia
fit.km <- survfit(Surv(time,status) ~ x,data = leukemia)
surv_grph <- ggsurvplot(fit.km, data = leukemia)
library(tidyverse)
surv_grph <- ggsurvplot(fit.km, data = leukemia)
library(survminer)
fit.km <- survfit(Surv(time,status) ~ x,data = leukemia)
surv_grph <- ggsurvplot(fit.km, data = leukemia)
ggsurvplot(fit.km, data = leukemia)
surv_grph <- ggsurvplot(fit.km, data = leukemia,
legend.labs = c("Maintained",
"Non-Maintained"),
legend="bottom",xlim=c(0,32))$plot +
labs(color = "Treatment",x = "Progression-Free Survival (months)",
y = "Proportion of Subjects Progression Free") +
scale_y_continuous(expand=c(0,0),limits = c(0,1.1),breaks = seq(0,1,0.1)) +
scale_x_continuous(expand=c(0,0),limits = c(0,160),breaks = seq(0,160,5)) +
theme_grey()+
theme(legend.position = 'bottom',
legend.direction = "horizontal",
legend.background = element_rect(colour = "black",
fill = "white",
linetype = "solid"),
panel.border = element_rect(fill = NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
# Change axis line
axis.line = element_line(colour = "black"),
panel.background = element_rect(fill = "white"))
print(surv_grph)
#surv_data <- data.frame(survival=fit.km$surv,trt_cd = c(rep(1,11),rep(2,12)))
ggsave("C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.png",
plot = surv_grph,width = 8,height = 5 )
surv_grph <- ggsurvplot(fit.km, data = leukemia,
legend.labs = c("Maintained",
"Non-Maintained"),
legend="bottom",xlim=c(0,162))$plot +
labs(color = "Treatment",x = "Progression-Free Survival (months)",
y = "Proportion of Subjects Progression Free") +
scale_y_continuous(expand=c(0,0),limits = c(0,1.1),breaks = seq(0,1,0.1)) +
scale_x_continuous(expand=c(0,0),limits = c(0,160),breaks = seq(0,160,5)) +
theme_grey()+
theme(legend.position = 'bottom',
legend.direction = "horizontal",
legend.background = element_rect(colour = "black",
fill = "white",
linetype = "solid"),
panel.border = element_rect(fill = NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
# Change axis line
axis.line = element_line(colour = "black"),
panel.background = element_rect(fill = "white"))
surv_grph <- ggsurvplot(fit.km, data = leukemia,
legend.labs = c("Maintained",
"Non-Maintained"),
legend="bottom",xlim=c(0,160))$plot +
labs(color = "Treatment",x = "Progression-Free Survival (months)",
y = "Proportion of Subjects Progression Free") +
scale_y_continuous(expand=c(0,0),limits = c(0,1.1),breaks = seq(0,1,0.1)) +
scale_x_continuous(expand=c(0,0),limits = c(0,160),breaks = seq(0,160,5)) +
theme_grey()+
theme(legend.position = 'bottom',
legend.direction = "horizontal",
legend.background = element_rect(colour = "black",
fill = "white",
linetype = "solid"),
panel.border = element_rect(fill = NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
# Change axis line
axis.line = element_line(colour = "black"),
panel.background = element_rect(fill = "white"))
"C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.png" %>%
rtf_read_png() %>%
rtf_page(orientation = "landscape",height = 10) %>%
rtf_page_header(text="SANE Pharmaceuticals\nSANE001-007 Phase 3",
text_justification = "l",
text_font_size=8,
text_space_after = 0) %>%
rtf_title(title = "Figure 14.2.1.4",
subtitle = c("Kaplan-Meier Plot of Progression-Free Survival",
"EFR Population"),
text_justification = "c",
text_font_size=9) %>%
rtf_figure(fig_height = 4,fig_width = 8.5) %>%  rtf_source(program_note_encode) %>%
rtf_page_footer(text = foot_string,
text_justification = 'l',
text_font_size=8) %>%
rtf_encode(doc_type="figure",
page_footnote = 'all',
page_source = "all") %>%
write_rtf("C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.rtf")
ggsave("C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.png",
plot = surv_grph,width = 8,height = 5 )
"C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.png" %>%
rtf_read_png() %>%
rtf_page(orientation = "landscape",height = 10) %>%
rtf_page_header(text="SANE Pharmaceuticals\nSANE001-007 Phase 3",
text_justification = "l",
text_font_size=8,
text_space_after = 0) %>%
rtf_title(title = "Figure 14.2.1.4",
subtitle = c("Kaplan-Meier Plot of Progression-Free Survival",
"EFR Population"),
text_justification = "c",
text_font_size=9) %>%
rtf_figure(fig_height = 4,fig_width = 8.5) %>%  rtf_source(program_note_encode) %>%
rtf_page_footer(text = foot_string,
text_justification = 'l',
text_font_size=8) %>%
rtf_encode(doc_type="figure",
page_footnote = 'all',
page_source = "all") %>%
write_rtf("C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.rtf")
"C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.png" %>%
rtf_read_png() %>%
rtf_page(orientation = "landscape",height = 10) %>%
rtf_page_header(text="SANE Pharmaceuticals\nSANE001-007 Phase 3",
text_justification = "l",
text_font_size=8,
text_space_after = 0) %>%
rtf_title(title = "Figure 14.2.1.4",
subtitle = c("Kaplan-Meier Plot of Progression-Free Survival",
"EFR Population"),
text_justification = "c",
text_font_size=9) %>%
rtf_figure(fig_height = 4,fig_width = 8.5) %>%
rtf_page_footer(text = foot_string,
text_justification = 'l',
text_font_size=8) %>%
rtf_encode(doc_type="figure",
page_footnote = 'all',
page_source = "all") %>%
write_rtf("C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.rtf")
"C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.png" %>%
rtf_read_figure() %>%
rtf_page(orientation = "landscape",height = 10) %>%
rtf_page_header(text="SANE Pharmaceuticals\nSANE001-007 Phase 3",
text_justification = "l",
text_font_size=8,
text_space_after = 0) %>%
rtf_title(title = "Figure 14.2.1.4",
subtitle = c("Kaplan-Meier Plot of Progression-Free Survival",
"EFR Population"),
text_justification = "c",
text_font_size=9) %>%
rtf_figure(fig_height = 4,fig_width = 8.5) %>%
rtf_page_footer(text = foot_string,
text_justification = 'l',
text_font_size=8) %>%
rtf_encode(doc_type="figure",
page_footnote = 'all',
page_source = "all") %>%
write_rtf("C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.rtf")
"C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.png" %>%
rtf_read_figure() %>%
rtf_page(orientation = "landscape",height = 10) %>%
rtf_page_header(text="SANE Pharmaceuticals\nSANE001-007 Phase 3",
text_justification = "l",
text_font_size=8,
text_space_after = 0) %>%
rtf_title(title = "Figure 14.2.1.4",
subtitle = c("Kaplan-Meier Plot of Progression-Free Survival",
"EFR Population"),
text_justification = "c",
text_font_size=9) %>%
rtf_figure(fig_height = 4,fig_width = 8.5) %>%
rtf_page_footer(text = "Graph for Demo",
text_justification = 'l',
text_font_size=8) %>%
rtf_encode(doc_type="figure",
page_footnote = 'all',
page_source = "all") %>%
write_rtf("C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.rtf")
ggsurvplot(fit.km, data = leukemia)
surv_grph <- ggsurvplot(fit.km, data = leukemia,
legend.labs = c("Maintained",
"Non-Maintained"),
legend="bottom",xlim=c(0,80))$plot +
labs(color = "Treatment",x = "Progression-Free Survival (months)",
y = "Proportion of Subjects Progression Free") +
scale_y_continuous(expand=c(0,0),limits = c(0,1.1),breaks = seq(0,1,0.1)) +
scale_x_continuous(expand=c(0,0),limits = c(0,80),breaks = seq(0,80,5)) +
theme_grey()+
theme(legend.position = 'bottom',
legend.direction = "horizontal",
legend.background = element_rect(colour = "black",
fill = "white",
linetype = "solid"),
panel.border = element_rect(fill = NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
# Change axis line
axis.line = element_line(colour = "black"),
panel.background = element_rect(fill = "white"))
print(surv_grph)
surv_grph <- ggsurvplot(fit.km, data = leukemia,
legend.labs = c("Maintained",
"Non-Maintained"),
legend="bottom",xlim=c(0,50))$plot +
labs(color = "Treatment",x = "Progression-Free Survival (months)",
y = "Proportion of Subjects Progression Free") +
scale_y_continuous(expand=c(0,0),limits = c(0,1.1),breaks = seq(0,1,0.1)) +
scale_x_continuous(expand=c(0,0),limits = c(0,50),breaks = seq(0,50,5)) +
theme_grey()+
theme(legend.position = 'bottom',
legend.direction = "horizontal",
legend.background = element_rect(colour = "black",
fill = "white",
linetype = "solid"),
panel.border = element_rect(fill = NA),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
# Change axis line
axis.line = element_line(colour = "black"),
panel.background = element_rect(fill = "white"))
print(surv_grph)
ggsave("C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.png",
plot = surv_grph,width = 8,height = 5 )
"C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.png" %>%
rtf_read_figure() %>%
rtf_page(orientation = "landscape",height = 10) %>%
rtf_page_header(text="SANE Pharmaceuticals\nSANE001-007 Phase 3",
text_justification = "l",
text_font_size=8,
text_space_after = 0) %>%
rtf_title(title = "Figure 14.2.1.4",
subtitle = c("Kaplan-Meier Plot of Progression-Free Survival",
"EFR Population"),
text_justification = "c",
text_font_size=9) %>%
rtf_figure(fig_height = 4,fig_width = 8.5) %>%
rtf_page_footer(text = "Graph for Demo",
text_justification = 'l',
text_font_size=8) %>%
rtf_encode(doc_type="figure",
page_footnote = 'all',
page_source = "all") %>%
write_rtf("C:/Training/Academy/Sample Clinical Reports/Demographic/fig_14_2_1_4.rtf")
library(pharmaverseadam)
library(surv)
data("cancer")
force(leukemia)
force(aml)
View(aml)
force(cancer)
View(cancer)
force(lung)
View(lung)
force(colon)
View(colon)
force(myeloma)
View(myeloma)
force(kidney)
View(kidney)
library(tidyverse)
library(survival)
library(survminer)
library(tidyverse)
library(survival)
library(survminer)
data(cancer)
kidney
library(pharmaRTF)
ls()
ls()
load("C:/R/p1.RData")
ls()
rm(ls())
rm(list=ls())
ls()
q()
library(tidyverse)
setwd("C:/R/Datasets/")
cars93 <- read.csv("Cars93.csv", stringsAsFactors = T)
ggplot(data = cars93,
aes(x=MPG.city, y=Price,color=AirBags)) +
geom_point() + labs(x="Milage", y="Price")
### Changing the Theme
ggplot(data = cars93,
aes(x=MPG.city, y=Price,color=AirBags)) +
geom_point() + labs(x="Milage", y="Price")+
theme_bw()
### Changing the Theme
ggplot(data = cars93,
aes(x=MPG.city, y=Price,color=AirBags)) +
geom_point() + labs(x="Milage", y="Price")+
theme_light()
### Changing the Theme
ggplot(data = cars93,
aes(x=MPG.city, y=Price,color=AirBags)) +
geom_point() + labs(x="Milage", y="Price")+
ggtitle("Scatter Plot")+
theme_light()
### Changing the Theme
ggplot(data = cars93,
aes(x=MPG.city, y=Price,color=AirBags)) +
geom_point() + labs(x="Milage", y="Price")+
ggtitle("Scatter Plot")+
theme(plot.title = element_text(hjust = 0.5))+
theme_light()
### Changing the Theme
ggplot(data = cars93,
aes(x=MPG.city, y=Price,color=AirBags)) +
geom_point() + labs(x="Milage", y="Price")+
ggtitle("Scatter Plot")+
theme(plot.title = element_text(hjust = 0.5))
### Changing the Theme
ggplot(data = cars93,
aes(x=MPG.city, y=Price,color=AirBags)) +
geom_point() + labs(x="Milage", y="Price")+
ggtitle("Scatter Plot")+
theme(plot.title = element_text(hjust = 0.5)) +
theme_bw()
### Changing the Theme
ggplot(data = cars93,
aes(x=MPG.city, y=Price,color=AirBags)) +
geom_point() + labs(x="Milage", y="Price")+
ggtitle("Scatter Plot")+theme_bw()+
theme(plot.title = element_text(hjust = 0.5))
#### Ex2
autocol <- read.csv("AutoCollision.csv")
ggplot(data = autocol,
aes(x = Vehicle_Use, y = Claim_Count, fill = Vehicle_Use))+
geom_boxplot()
#### Ex2
autocol <- read.csv("AutoCollision.csv")
ggplot(data = autocol,
aes(x = Vehicle_Use, y = Claim_Count, fill = Vehicle_Use))+
geom_boxplot()+
scale_fill_brewer(palette = "Dark2")
ggplot(data = autocol,
aes(x = Vehicle_Use, y = Claim_Count, fill = Vehicle_Use))+
geom_boxplot()+
scale_fill_brewer(palette = "BuPu")
ggplot(data = autocol,
aes(x = Vehicle_Use, y = Claim_Count, fill = Vehicle_Use))+
geom_boxplot()+
scale_fill_brewer(palette = "RdYlBu")
### Ex3
orns <- read.csv("Ornstein.csv", stringsAsFactors = T)
ggplot(data = orns, aes(x = nation)) +
geom_bar()
ggplot(data = orns, aes(x = nation, fill = sector)) +
geom_bar()
ggplot(data = orns, aes(x = nation, fill = sector)) +
geom_bar(position = 'dodge')
library(XML)
setwd("C:/Training/Academy/R Course (C-DAC)/Datasets/")
result <- xmlParse(file = "books.xml")
print(result)
rootnode <- xmlRoot(result)
print(rootnode[1])
df_book <- xmlToDataFrame("books.xml")
df_food <- xmlToDataFrame("foods.xml")
View(df_food)
### Ex4
ggplot(data = orns, aes(x=assets, y=interlocks, colour = nation))+
geom_point()
### Ex4
ggplot(data = orns, aes(x=assets, y=interlocks, colour = sector))+
geom_point() +
facet_grid(.~nation)
### Ex 5
data("mtcars")
ggplot(data = mtcars, aes(x=disp, y=mpg, colour = gear)) +
geom_point()
mtcars$gear <- factor(mtcars$gear)
ggplot(data = mtcars, aes(x=disp, y=mpg, colour = gear)) +
geom_point()
ggplot(data = mtcars, aes(x=disp, y=mpg, colour = gear)) +
geom_point() +
labs(x="Displacement", y="Miles Per Gallon",
colour="Gear")
Statistical Analysis
data(mtcars)
str(mtcars)
library(ggplot2)
mtcars$gear <- factor(mtcars$gear)
ggplot(data = mtcars, aes(x=disp, y=mpg, colour = gear)) +
geom_point() +
labs(x="Displacement", y="Miles Per Gallon",
colour="Gear")
